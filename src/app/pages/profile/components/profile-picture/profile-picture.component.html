<div class="w-32 h-32 sm:w-48 sm:h-48  relative rounded-full overflow-hidden group">
  @if (isPictureLoading()) {
  <span class="loader self-center" style="--loader-color: blue; --loader-size: 36px"></span>
  } @else {

  <img
    [src]="
      pictureUrl()
        ? 'https://practiceapi.mooo.com' + pictureUrl()
        : 'https://practiceapi.mooo.com/uploads/no-user-image.png'
    "
    alt="Аватар"
    class="w-full h-full object-cover rounded-full"
  />
  <div
    class="absolute inset-0 flex items-center justify-center bg-gray bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
  >
    <button
      type="button"
      class="text-white hover:text-blue-300 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
      (click)="fileInput.click()"
      title="Изменить"
      [disabled]="isPictureLoading()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
        />
      </svg>
    </button>
  </div>
  }
</div>

<input
  type="file"
  #fileInput
  (change)="onFileSelected($event)"
  style="display: none"
  accept="image/*"
/>
