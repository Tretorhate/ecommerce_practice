<div class="block">
  <div
    class="flex gap-5 border p-4 rounded-none bg-white max-w-[700px] relative"
  >
    <div class="shrink-0">
      <div class="w-full h-[1.2px] bg-white mb-2 mt-2"></div>
      <img
        [src]="productImage"
        [alt]="product.title"
        class="w-[120px] h-[120px] object-cover rounded-lg"
        (error)="onImageError($event)"
      />
      <!-- Fallback when image fails to load -->
      <div
        *ngIf="!productImage"
        class="w-[120px] h-[120px] bg-gray-200 flex items-center justify-center text-gray-500 text-xs rounded-lg"
      >
        –ù–µ—Ç —Ñ–æ—Ç–æ
      </div>
    </div>

    <div class="flex-grow">
      <div class="w-full h-[1px] bg-[#eae7e7] mb-2 mt-2"></div>

      <h3 class="text-[#0089D0] text-sm font-light m-0 w-55">
        {{ product.title }}
      </h3>
      <div class="text-[#888] text-xs mt-1 max-w-[100%]">
        <span>–ê—Ä—Ç–∏–∫—É–ª:</span> {{ product.id }}
      </div>
      <div class="text-[#888] text-[10px] mt-1">
        <span>–ú–∞–≥–∞–∑–∏–Ω:</span> {{ storeTitle }}
      </div>
      <div
        class="grid grid-cols-[minmax(75px,_max-content)_1fr] text-xs my-1 mb-1 gap-y-1"
      >
        <div class="text-[#888]">–¶–µ–Ω–∞</div>
        <div class="text-[#888] pl-3 border-l border-[#ddd]">–í —Ä–∞—Å—Å—Ä–æ—á–∫—É</div>

        <div class="font-medium text-base text-[#333]">
          {{ totalPrice | number : "1.0-0" }} ‚Ç∏„Ö§
        </div>

        <div
          class="flex items-center text-base font-bold pl-3 border-l border-[#ddd]"
        >
          <span
            class="bg-[#ffd300] px-2 py-0.5 mr-1 text-[#333] text-sm font-normal"
          >
            {{ totalPrice / 3 | number : "1.0-0" }} ‚Ç∏
          </span>
          <span class="text-[#a9a7a7] font-normal">√ó3</span>
        </div>
      </div>

      <div class="text-green-600 flex items-center text-xs font-normal">
        <span class="mr-1">üöõ</span>
        <span>–±–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
      </div>
    </div>

    <div
      class="absolute right-3 bottom-2 flex items-center gap-2 text-black text-2xl font-normal"
    >
      <button
        (click)="decrement()"
        class="w-5 h-5 text-base font-bold border-2 border-[#333] bg-white rounded cursor-pointer leading-none flex items-center justify-center"
      >
        ‚àí
      </button>
      <span>{{ product.quantity }}</span>
      <button
        (click)="increment()"
        class="w-5 h-5 text-base font-bold border-2 border-[#333] bg-white rounded cursor-pointer leading-none flex items-center justify-center"
      >
        +
      </button>
    </div>
  </div>
</div>
